<div class="notes-wrapper">
  <app-page-header
    [title]="title()"
    (allNotesOutput)="allNotesOutput.emit()"
    (searchNotesOutput)="searchNotesOutput.emit($event)"
  ></app-page-header>
  <div class="sidebar-all-notes-content-sidebar-right-menu-wrapper-mobile-tablet">
    @if (showSidebarAllNotes) {
    <app-sidebar-all-notes
      [notes]="notes()"
      [title]="title()"
      [showSearchBar]="showSearchBar"
      (noteOutput)="
        note = $event; showSidebarAllNotes = false; showContent = true; showTags = false
      "
    ></app-sidebar-all-notes>
    } @else if (showContent) {
    <app-content
      [note]="note"
      (returnSidebarAllNotes)="showSidebarAllNotes = true; showContent = false; showTags = false"
      (archiveNote)="archiveNote.emit($event)"
      (restoreNote)="restoreNote.emit($event)"
      (deleteNote)="deleteNote.emit($event)"
    ></app-content>
    } @else if (showTags) {
    <app-tags
      [notes]="allNotes()"
      (taggedNotesOutput)="
        taggedNotesOutput.emit($event);
        showSidebarAllNotes = true;
        showContent = false;
        showTags = false;
        showSearchBar = false
      "
    ></app-tags>
    }
    <app-menu-bar
      (allNotesOutput)="
        allNotesOutput.emit();
        showSidebarAllNotes = true;
        showContent = false;
        showTags = false;
        showSearchBar = false
      "
      (archivedNotesOutput)="
        archivedNotesOutput.emit();
        showSidebarAllNotes = true;
        showContent = false;
        showTags = false;
        showSearchBar = false
      "
      (tagsOutput)="
        showSidebarAllNotes = false; showContent = false; showTags = true; showSearchBar = false
      "
      (searchNotesOutput)="
        showSidebarAllNotes = true; showContent = false; showTags = false; showSearchBar = true
      "
    ></app-menu-bar>
  </div>

  <div class="sidebar-all-notes-content-sidebar-right-menu-wrapper-desktop">
    <app-sidebar-all-notes [notes]="notes()" (noteOutput)="note = $event"></app-sidebar-all-notes>
    <app-content [note]="note"></app-content>
    <app-sidebar-right-menu
      [note]="note"
      (archiveNote)="archiveNote.emit($event)"
      (restoreNote)="restoreNote.emit($event)"
      (deleteNote)="deleteNote.emit($event)"
    ></app-sidebar-right-menu>
  </div>
</div>
